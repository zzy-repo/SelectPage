@startuml
actor 客户端
客户端 -> UserInfoController: POST /userInfo/page
UserInfoController -> UserInfoService: 调用page方法(new Page<>(pageNum, pageSize))
UserInfoService -> 数据库: 查询分页的用户信息数据
数据库 --> UserInfoService: 返回数据
UserInfoService --> UserInfoController: 返回 Page<UserInfo>
UserInfoController --> 客户端: Resp.success(page) 成功返回

alt 发生 BusinessException 异常
    UserInfoService -> UserInfoController: 抛出 BusinessException
    UserInfoController -> GlobalExceptionHandler: 处理 BusinessException
    GlobalExceptionHandler --> 客户端: 返回 Resp.fail(BusinessException) 错误信息
end

alt 发生其他 Exception 异常
    UserInfoService -> UserInfoController: 抛出 Exception
    UserInfoController -> GlobalExceptionHandler: 处理 Exception
    GlobalExceptionHandler -> 日志系统: log.error(e.getMessage(), e) 记录错误日志
    GlobalExceptionHandler --> 客户端: 不返回具体响应
end
@enduml
